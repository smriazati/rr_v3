(window.webpackJsonp=window.webpackJsonp||[]).push([[60,17,18,20,21,22],{301:function(t,e,n){t.exports={}},302:function(t,e,n){"use strict";var r=n(2),o=n(303);r({target:"String",proto:!0,forced:n(304)("link")},{link:function(t){return o(this,"a","href",t)}})},303:function(t,e,n){"use strict";var r=n(4),o=n(31),c=n(16),l=/"/g,d=r("".replace);t.exports=function(t,e,n,r){var v=c(o(t)),f="<"+e;return""!==n&&(f+=" "+n+'="'+d(c(r),l,"&quot;")+'"'),f+">"+v+"</"+e+">"}},304:function(t,e,n){"use strict";var r=n(3);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},305:function(t,e,n){"use strict";n(301)},306:function(t,e,n){"use strict";n.r(e);n(302),n(24),n(23),n(28),n(12),n(33),n(18),n(34);var r,o=n(9),c=n(8),l=n(88),d=(n(41),n(25)),v=n(48);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var m=Object(v.b)(r||(r=Object(l.a)(['*[_type == "','"]{\n  "prev": siteNavLabels.prev,\n  "next": siteNavLabels.next\n}[0]'])),"settings"),h={data:function(){return{labels:"",isCollapsed:!1}},fetch:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$sanity.fetch(m);case 2:t.labels=e.sent;case 3:case"end":return e.stop()}}),e)})))()},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)("localization",{activeLanguage:function(t){return t.activeLanguage}})),props:{message:{type:Object,required:!0},link:{type:String,required:!0},back:{type:Boolean,required:!1}}},y=h,_=(n(305),n(15)),component=Object(_.a)(y,(function(){var t,e,n,r,o=this,c=o._self._c;return c("nav",{ref:"pagination",staticClass:"pagination",class:o.back?"back-btn":""},[o._m(0),o._v(" "),c("nuxt-link",{staticClass:"wrapper",attrs:{to:{path:o.link,query:o.$route.query}}},[o.back?c("h3",{staticClass:"subheadline"},["en"==o.activeLanguage?c("span",[o._v("\n        "+o._s(null===(n=o.labels.prev)||void 0===n?void 0:n.en)+"\n      ")]):o._e(),o._v(" "),"uk"==o.activeLanguage?c("span",[o._v("\n        "+o._s(null===(r=o.labels.prev)||void 0===r?void 0:r.uk)+"\n      ")]):o._e()]):c("h3",{staticClass:"subheadline"},["en"==o.activeLanguage?c("span",[o._v("\n        "+o._s(null===(t=o.labels.next)||void 0===t?void 0:t.en)+"\n      ")]):o._e(),o._v(" "),"uk"==o.activeLanguage?c("span",[o._v("\n        "+o._s(null===(e=o.labels.next)||void 0===e?void 0:e.uk)+"\n      ")]):o._e()]),o._v(" "),c("span",{staticClass:"cta",attrs:{to:o.link}},[c("LocalizationString",{attrs:{string:o.message}}),o._v(" "),c("SystemIcon",{attrs:{type:"arrow",color:"light",width:25}})],1)])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"tree-icon"},[t("img",{attrs:{src:"/icons/tree.svg",alt:""}})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{LocalizationString:n(216).default,SystemIcon:n(218).default})},333:function(t,e,n){t.exports={}},334:function(t,e,n){t.exports={}},335:function(t,e,n){t.exports={}},336:function(t,e,n){t.exports={}},348:function(t,e,n){"use strict";n.r(e);n(24),n(23),n(28),n(12),n(33),n(18),n(34);var r=n(9),o=(n(217),n(42),n(50),n(25));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{item:{type:Object},index:{type:Number}},computed:l(l({},Object(o.b)("occupation",{viewedStories:function(t){return t.viewedStories}})),{},{isViewed:function(){return this.viewedStories?!!this.viewedStories.includes(this.index):null}}),methods:{setActiveStory:function(){this.$store.commit("occupation/setActiveStory",this.index)}}},v=n(15),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("li",{attrs:{id:"marker-".concat(t.index)}},[t.item?e("span",{staticClass:"hover-cursor",class:t.isViewed?"viewed-marker":"",on:{click:t.setActiveStory}},[e("span",{staticClass:"icon"}),t._v(" "),e("LocalizationString",{attrs:{string:t.item.title}})],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LocalizationString:n(216).default})},356:function(t,e,n){"use strict";n(333)},357:function(t,e,n){"use strict";n(334)},358:function(t,e,n){"use strict";n(335)},359:function(t,e,n){"use strict";n(336)},369:function(t,e,n){"use strict";n.r(e);n(55);var r={props:{animActive:{type:Boolean},markers:{type:Array},visitedOnce:{type:Boolean}},mounted:function(){this.visitedOnce?this.$maps.showMap(this.$refs.map,this.tuchyn.lat,this.tuchyn.lng,this.markers,"tuchyn"):this.$maps.showMap(this.$refs.map,this.nc.lat,this.nc.lng,this.markers,"tuchyn")},data:function(){return{tuchyn:{lat:"50.711008",lng:"26.573502"},nc:{lat:"35.7596",lng:"-79.0193"}}}},o=(n(356),n(15)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("button",{ref:"panToButton",staticClass:"visually-hidden",attrs:{id:"panToButton"}},[t._v("\n    Pan to\n  ")]),t._v(" "),e("button",{ref:"onReturnButton",staticClass:"visually-hidden",attrs:{id:"onReturnButton"}},[t._v("\n    Show markers\n  ")]),t._v(" "),e("div",{staticClass:"storymap-map"},[e("div",{ref:"map",staticClass:"map"})])])}),[],!1,null,null,null);e.default=component.exports},370:function(t,e,n){"use strict";n.r(e);var r,o=n(8),c=n(88),l=(n(41),n(48)),d=Object(l.b)(r||(r=Object(c.a)(['*[_type == "','"][0]'])),"intro2"),v={data:function(){return{content:null,isCollapsed:!1}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$sanity.fetch(d);case 2:if(data=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.content=data;case 6:case"end":return e.stop()}}),e)})))()},fetchOnServer:!1,mounted:function(){var t=this.$refs.wrapper;t&&t.focus()},methods:{closeModal:function(){this.$emit("close-modal")}}},f=(n(357),n(15)),component=Object(f.a)(v,(function(){var t=this,e=t._self._c;return e("div",{ref:"wrapper",staticClass:"instruction-modal",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal.apply(null,arguments)}}},[t.content?e("main",{staticClass:"story-map-intro"},[e("header",[e("div",[e("h1",[e("LocalizationString",{attrs:{string:t.content.title}})],1),t._v(" "),e("h2",[e("LocalizationString",{attrs:{string:t.content.subhead}})],1)])]),t._v(" "),e("div",{staticClass:"button-wrapper"},[e("button",{staticClass:"bright flex-col",on:{click:function(e){return t.closeModal()}}},[e("LocalizationString",{attrs:{string:t.content.ctaText}})],1)]),t._v(" "),e("section",{ref:"text",staticClass:"text"},[e("div",{staticClass:"text-wrapper"},[e("LocalizationRte",{attrs:{content:t.content.instructions}})],1)]),t._v(" "),t.content.quote?e("section",{staticClass:"featured-quote"},[e("ContentQuote",{attrs:{quote:t.content.quote}})],1):t._e(),t._v(" "),e("footer",{staticClass:"credits"},[e("div",[e("p",[e("LocalizationString",{attrs:{string:t.content.credits}})],1)])])]):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LocalizationString:n(216).default,LocalizationRte:n(307).default,ContentQuote:n(321).default})},371:function(t,e,n){"use strict";n.r(e);var r,o=n(8),c=n(88),l=(n(41),n(48)),d=Object(l.b)(r||(r=Object(c.a)(['\n{\n  "content" : *[_type == "settings2"][0],\n  "markers" : {\n    "marker1": *[_id == "marker1"][0]{\n      "title": content.title\n    },\n    "marker2": *[_id == "marker2"][0]{\n      "title": content.title\n    },\n      "marker3": *[_id == "marker3"][0]{\n      "title": content.title\n    },\n      "marker4": *[_id == "marker4"][0]{\n      "title": content.title\n    },\n      "marker5": *[_id == "marker5"][0]{\n      "title": content.title\n    },\n      "marker6": *[_id == "marker6"][0]{\n      "title": content.title\n    },\n  }\n}\n']))),v={data:function(){return{data:"",isExpanded:!1}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$sanity.fetch(d);case 2:t.data=e.sent;case 3:case"end":return e.stop()}}),e)})))()},props:{markersData:{type:Array}},computed:{markersSorted:function(){if(!this.data)return null;if(!this.data.markers)return null;var t=["marker1","marker2","marker3","marker4","marker5","marker6"],e=[],n=this.data.markers;for(var r in n)n.hasOwnProperty(r)&&(r===t[0]&&(e[0]=n[r]),r===t[1]&&(e[1]=n[r]),r===t[2]&&(e[2]=n[r]),r===t[3]&&(e[3]=n[r]),r===t[4]&&(e[4]=n[r]),r===t[5]&&(e[5]=n[r]));return e}},methods:{toggleMenu:function(){this.isExpanded=!this.isExpanded},showIntro:function(){this.$emit("show-intro")},showTimeline:function(){this.$emit("show-timeline")}}},f=(n(358),n(15)),component=Object(f.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-controls",class:t.isExpanded?"expanded":"collapsed"},[t.isExpanded?e("button",{staticClass:"flat menu-toggle",on:{click:t.toggleMenu}},[e("span",{staticClass:"visually-hidden"},[t._v("Close Map Menu")]),t._v(" "),e("SystemIcon",{attrs:{type:"close",color:"light",width:30}})],1):e("button",{staticClass:"menu-toggle",on:{click:t.toggleMenu}},[e("span",{staticClass:"text"},[t._v("Open Map Menu")])]),t._v(" "),e("h2",{staticClass:"visually-hidden"},[t._v("Map controls")]),t._v(" "),e("div",{staticClass:"map-box-wrapper"},[t.data.content?e("nav",{staticClass:"map-options map-box"},[e("h3",[e("LocalizationString",{attrs:{string:t.data.content.optionsTitle}})],1),t._v(" "),e("ul",[e("li",{staticClass:"hover-cursor",on:{click:t.showIntro}},[t._m(0),t._v(" "),e("LocalizationString",{attrs:{string:t.data.content.instructionsLabel}})],1),t._v(" "),e("li",{staticClass:"hover-cursor",attrs:{id:"recenterMap"}},[t._m(1),t._v(" "),e("LocalizationString",{attrs:{string:t.data.content.recenterLabel}})],1)])]):t._e(),t._v(" "),e("nav",{staticClass:"map-marker-list map-box"},[t.data.content?e("h3",[e("LocalizationString",{attrs:{string:t.data.content.markersTitle}})],1):t._e(),t._v(" "),t.markersSorted?e("ul",t._l(t.markersSorted,(function(t,n){return e("MapControlsMarkerListItem",{key:n,attrs:{item:t,index:n}})})),1):t._e()])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("img",{staticClass:"icon icon-instructions icon-light",attrs:{src:"/icons/instructions.svg",alt:"view instructions icon"}})])},function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("img",{staticClass:"icon icon-recenter icon-light",attrs:{src:"/icons/recenter.svg",alt:"recenter the map icon"}})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{SystemIcon:n(218).default,LocalizationString:n(216).default,MapControlsMarkerListItem:n(348).default})},372:function(t,e,n){"use strict";n.r(e);var r,o=n(8),c=n(88),l=(n(217),n(12),n(18),n(41),n(48)),d=Object(l.b)(r||(r=Object(c.a)(['*[_type == "','"]{\n  backBtnText\n}[0]'])),"settings2"),v={data:function(){return{content:"",isCollapsed:!1}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$sanity.fetch(d);case 2:t.content=e.sent;case 3:case"end":return e.stop()}}),e)})))()},props:{activeStoryId:{type:Number,required:!0}},mounted:function(){var t=this.$refs.wrapper;t&&t.focus(),this.initLightbox()},computed:{modalCloseBtnText:function(){if(this.content&&this.content.backBtnText)return this.content.backBtnText}},methods:{closeModal:function(){this.$emit("close-modal")},initLightbox:function(){var t=document.querySelectorAll("figure:not(.no-lb)");t&&t.forEach((function(t){t.classList.add("hover-cursor"),t.addEventListener("click",(function(){t.classList.toggle("lightbox-expanded")}))}))}}},f=(n(359),n(15)),component=Object(f.a)(v,(function(){var t=this,e=t._self._c;return e("div",{ref:"wrapper",staticClass:"modal-wrapper",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal.apply(null,arguments)}}},[e("div",{staticClass:"flat close-button",on:{click:function(e){return t.closeModal()}}},[e("p",{staticClass:"visually-hidden"},[t._v("Close")]),t._v(" "),e("div",{staticClass:"icon icon-close"})]),t._v(" "),e("div",{staticClass:"story-container"},[e("div",{staticClass:"stories-modal"},[e("MapModalsS",{attrs:{activeStoryId:t.activeStoryId}})],1),t._v(" "),e("button",{staticClass:"inline-close-button bright centered",on:{click:function(e){return t.closeModal()}}},[t.modalCloseBtnText?e("span",[e("LocalizationString",{attrs:{string:t.modalCloseBtnText}})],1):t._e(),t._v(" "),e("SystemIcon",{attrs:{type:"arrow",color:"light",width:25}})],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MapModalsS:n(381).default,LocalizationString:n(216).default,SystemIcon:n(218).default})},385:function(t,e,n){t.exports={}},418:function(t,e,n){"use strict";n(385)},447:function(t,e,n){"use strict";n.r(e);n(29),n(24),n(23),n(28),n(12),n(33),n(18),n(34);var r,o=n(9),c=n(88),l=n(25),d=n(48);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f=Object(d.b)(r||(r=Object(c.a)(['\n{\n"nav": *[_id == "settings2"]{\n  nav\n}[0],\n  "metadata": *[_id == "intro2"][0]{\n    pageMetadata\n  }\n}']))),m={asyncData:function(t){return t.$sanity.fetch(f)},data:function(){return{name:"occupation",isPaginationVisible:!1,isIntroVisible:!1,isModalVisible:!1,viewedAllStories:!1,areMapControlsActive:!1,markersData:[{id:0,name:"judenrat",lat:50.7003356,lng:26.5719255},{id:1,name:"chomut_house",lat:50.6988032,lng:26.570062},{id:2,name:"synagogue",lat:50.7082228,lng:26.57203},{id:3,name:"gendarmerie",lat:50.698633,lng:26.5661871},{id:4,name:"ghetto",lat:50.7002303,lng:26.5713738},{id:5,name:"horyn_river",lat:50.710556,lng:26.557222}]}},watch:{activeStoryId:function(){null!==this.activeStoryId&&(this.isModalVisible=!0)},viewedStories:function(){this.viewStories&&this.viewedStories.length===this.markers.length&&(this.viewedAllStories=!0,this.$store.commit("occupation/setFirstVisit"))},isModalVisible:function(){!this.isModalVisible&&this.viewedAllStories&&this.showPagination()},panAnimComplete:function(){this.panAnimComplete&&(this.$store.commit("occupation/setFlyoverComplete"),this.showMapControls())}},head:function(){return{title:this.$setPageTitle(this.metadata.pageMetadata)}},mounted:function(){this.visitedOnce&&(this.areMapControlsActive=!0),this.showIntro()},methods:{showPagination:function(){this.isPaginationVisible=!0},closeModal:function(){this.isModalVisible=!1,this.resetActiveStory()},resetActiveStory:function(){this.$store.commit("occupation/resetActiveStory")},closeIntro:function(){(this.isIntroVisible=!1,this.visitedOnce||this.areMapControlsActive)?this.$refs.storymap.$refs.onReturnButton.click():this.$refs.storymap.$refs.panToButton.click()},showIntro:function(){this.isIntroVisible=!0},showMapControls:function(){this.areMapControlsActive=!0}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.b)("occupation",{activeStoryId:function(t){return t.activeStory},viewedStories:function(t){return t.viewedStories},panAnimComplete:function(t){return t.panAnimComplete},visitedOnce:function(t){return t.visitedOnce}}))},h=m,y=(n(418),n(15)),component=Object(y.a)(h,(function(){var t,e=this,n=e._self._c;return n("div",{class:e.name},[n("h1",{staticClass:"visually-hidden"},[e._v(e._s(e.name))]),e._v(" "),e.nav&&e.viewedAllStories?n("div",[null!==(t=e.nav)&&void 0!==t&&null!==(t=t.nav)&&void 0!==t&&t.next?n("Pagination",{attrs:{link:"/occupation/talkback",message:e.nav.nav.next}}):e._e()],1):e._e(),e._v(" "),n("MapStorymap",{ref:"storymap",attrs:{animActive:!0,markers:e.markersData,visitedOnce:e.visitedOnce}}),e._v(" "),e.isIntroVisible?n("div",{staticClass:"modal-container transparent"},[n("MapIntro",{on:{"close-modal":e.closeIntro}})],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.areMapControlsActive,expression:"areMapControlsActive"}]},[n("MapControls",{attrs:{markersData:e.markersData},on:{"show-intro":function(t){return e.showIntro()}}})],1),e._v(" "),e.isModalVisible?n("div",{staticClass:"modal-container"},[n("div",{staticClass:"close-overlay",on:{click:e.closeModal}}),e._v(" "),n("MapModal",{attrs:{activeStoryId:e.activeStoryId},on:{"close-modal":e.closeModal}})],1):e._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Pagination:n(306).default,MapStorymap:n(369).default,MapIntro:n(370).default,MapControls:n(371).default,MapModal:n(372).default})}}]);